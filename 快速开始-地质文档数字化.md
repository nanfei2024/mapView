# 快速开始 - 地质文档数字化

## 🚀 立即使用

### 1. 启动项目

```bash
cd mapView-main
npm install    # 首次运行需要安装依赖
npm run dev    # 启动开发服务器
```

浏览器访问：`http://localhost:5173`（或控制台显示的地址）

### 2. 进入地质文档数字化页面

在主页点击 **🌍 地质文档数字化** 按钮

![地质文档数字化按钮](主页右侧控制面板中)

---

## 📝 使用方式

### 方式一：URL 在线文档解析（推荐用于测试）

适合解析网络上公开的文档

#### 操作步骤：

1. **切换到 URL 上传标签**
   
2. **输入文档 URL**
   ```
   例如：https://example.com/geology-report.pdf
   ```
   
3. **点击「提交」按钮**
   
4. **等待自动处理**
   - 系统会自动创建解析任务
   - 显示实时进度：`12/50 页`
   - 状态变化：待处理 → 解析中 → 已完成
   
5. **下载结果**
   - 点击「下载结果」按钮
   - 获得包含 Markdown、JSON 等格式的 ZIP 压缩包

---

### 方式二：本地文件上传（推荐用于实际使用）

适合解析本地的地质文档

#### 操作步骤：

1. **选择本地上传标签**（默认）

2. **选择文档类型**
   - ⚪ 地质报告
   - ⚪ 地质书籍
   - ⚪ 其他文档

3. **上传文件**
   
   **方法 A：拖拽上传**
   - 直接将文件拖拽到上传区域
   
   **方法 B：点击上传**
   - 点击「选择文件」按钮
   - 在文件选择器中选择文件

4. **开始解析**
   
   **单个文件：**
   - 点击文件右侧的「开始解析」按钮
   
   **批量处理：**
   - 选择多个文件后
   - 点击底部的「批量解析」按钮

5. **查看进度**
   - 上传中：紫色状态标识
   - 解析中：蓝色状态标识 + 进度显示
   - 已完成：绿色状态标识

6. **下载结果**
   - 点击「下载结果」按钮
   - 保存 ZIP 压缩包到本地

---

## 📦 支持的文件格式

| 类型 | 格式 | 说明 |
|------|------|------|
| 文档 | PDF | ✅ 推荐格式 |
| 文档 | DOC, DOCX | ✅ Word 文档 |
| 文档 | PPT, PPTX | ✅ 演示文稿 |
| 图片 | PNG, JPG, JPEG | ✅ 图片 OCR |

**限制条件：**
- 单个文件最大 **200 MB**
- 文档最多 **600 页**
- 每日免费额度：**2000 页**

---

## 🎯 使用示例

### 示例 1：解析地质报告 PDF

```
1. 准备文件：geology-report-2024.pdf (35页, 15MB)
2. 选择类型：地质报告
3. 拖拽上传文件
4. 点击「开始解析」
5. 等待约 2-3 分钟
6. 下载结果 ZIP 文件
7. 解压查看 Markdown、JSON 等格式
```

### 示例 2：批量处理地质书籍

```
1. 准备文件：
   - 板块构造学-第1章.pdf
   - 板块构造学-第2章.pdf
   - 板块构造学-第3章.pdf
   
2. 选择类型：地质书籍

3. 选择所有文件（Ctrl+多选）

4. 点击「批量解析」

5. 系统自动处理：
   - 第1章：解析中 (15/45 页)
   - 第2章：解析中 (23/38 页)
   - 第3章：上传中
   
6. 全部完成后，分别下载每个文件的结果
```

### 示例 3：在线文档解析

```
1. 找到在线文档链接：
   https://example.com/docs/plate-tectonics.pdf
   
2. 切换到「URL 上传」标签

3. 粘贴 URL 并提交

4. 系统自动：
   - 创建任务
   - 下载文档
   - 开始解析
   - 显示进度
   
5. 完成后下载结果
```

---

## 📊 解析结果说明

### ZIP 压缩包内容

```
result.zip
├── document.md          # Markdown 格式（主要内容）
├── document.json        # JSON 结构化数据
├── images/              # 提取的图片文件夹
│   ├── image_001.png
│   ├── image_002.png
│   └── ...
└── tables/              # 提取的表格（如有）
    ├── table_001.csv
    └── ...
```

### Markdown 文件说明
- 包含文档的所有文本内容
- 保留标题、段落、列表等格式
- 公式以 LaTeX 格式呈现
- 图片以引用方式链接

### JSON 文件说明
- 文档的结构化数据
- 包含页面信息、文本块、元数据等
- 便于程序化处理和分析

---

## ⚠️ 常见问题

### Q1: 上传文件后一直显示"待处理"？
**A**: 需要点击「开始解析」按钮手动启动处理流程。

### Q2: 显示"文件大小超出限制"？
**A**: 文件不能超过 200MB。请使用 PDF 压缩工具减小文件大小。

### Q3: 显示"文件页数超过限制"？
**A**: 文件不能超过 600 页。请拆分文件后重新上传。

### Q4: URL 上传失败？
**A**: 
- 检查 URL 是否可访问
- GitHub、AWS 等国外 URL 可能超时
- 建议下载到本地后上传

### Q5: 解析失败怎么办？
**A**: 
- 鼠标悬停在错误信息上查看详情
- 检查文件格式是否支持
- 尝试转换为 PDF 格式后重试

### Q6: 每日额度用完了？
**A**: 
- 免费额度：2000 页/天
- 超过后优先级降低，不是无法使用
- 次日凌晨自动重置额度

---

## 🎨 界面说明

### 状态颜色
- 🔘 **灰色** - 待处理
- 🟣 **紫色** - 上传中
- 🔵 **蓝色** - 解析中（显示进度）
- 🟢 **绿色** - 已完成
- 🔴 **红色** - 失败（显示错误信息）

### 按钮说明
- **选择文件** - 打开文件选择器
- **开始解析** - 处理单个文件
- **批量解析** - 处理所有待处理文件
- **下载结果** - 下载解析结果 ZIP
- **删除** - 从列表中移除文件
- **清空列表** - 清空所有文件

---

## 💡 使用技巧

### 技巧 1：批量处理提高效率
一次上传多个文件，使用批量解析功能，可以节省时间。

### 技巧 2：选择合适的文档类型
不同类型的文档可能有不同的解析策略（预留功能）。

### 技巧 3：文件命名规范
使用有意义的文件名，方便后续管理结果。

### 技巧 4：定期保存结果
下载的结果文件及时保存到本地，避免丢失。

### 技巧 5：检查文件质量
- 清晰的扫描件效果更好
- 矢量 PDF 效果最佳
- 低分辨率图片可能识别率低

---

## 🔧 高级设置（开发者）

如需修改解析参数，编辑 `src/views/DocumentDigitalizationPage.vue`：

```typescript
// 解析参数配置
{
  model_version: 'vlm',        // 模型: pipeline 或 vlm
  enable_formula: true,         // 公式识别
  enable_table: true,           // 表格识别
  language: 'ch',               // 语言: ch(中文)
  extra_formats: ['docx']       // 额外格式: docx, html, latex
}
```

详细的技术文档请查看：[MinerU_API集成说明.md](./MinerU_API集成说明.md)

---

## 📞 获取帮助

- **功能说明**：查看 [文档数字化功能说明.md](./文档数字化功能说明.md)
- **API 文档**：查看 [MinerU_API集成说明.md](./MinerU_API集成说明.md)
- **MinerU 官网**：https://mineru.net
- **问题反馈**：根据错误码查询解决方案

---

## 🎉 开始使用

现在您已经了解了如何使用地质文档数字化功能，快去试试吧！

```bash
npm run dev
```

祝您使用愉快！🚀

