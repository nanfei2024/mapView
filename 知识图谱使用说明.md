# 知识图谱功能使用说明

## 功能概述

这个知识图谱系统可以将 Markdown 格式的书籍内容自动转换为可视化的知识图谱，帮助您更好地理解书籍的结构和知识点之间的关系。

## 主要功能

### 1. Markdown 文件上传
- 支持 `.md`、`.markdown`、`.txt` 格式的文件
- 支持拖拽上传和点击上传两种方式
- 自动解析文件内容并提取知识结构

### 2. 知识抽取
系统会自动从 Markdown 文件中提取以下类型的节点：
- **章节**：一级和二级标题
- **标题**：三级及以下标题
- **概念**：列表项中的重要概念
- **关键词**：段落文本中的关键词

### 3. 关系建立
系统会自动建立以下类型的关系：
- **包含关系**：章节与小节之间的层级关系
- **提及关系**：标题与关键词之间的关联
- **共现关系**：在同一章节中出现的关键词之间的关联

### 4. 可视化展示
- **力导向布局**：节点根据关系自动排列，关系紧密的节点靠得更近
- **环形布局**：节点按照环形排列，适合展示层次结构
- **交互功能**：
  - 缩放：鼠标滚轮缩放
  - 拖拽：拖动节点调整位置
  - 点击：点击节点查看详细信息
  - 高亮：悬停时高亮相关节点和连接

### 5. 统计信息
左侧面板显示：
- 文件信息（文件名、字数、标题数）
- 图谱统计（节点数量、关系数量、类别数）

### 6. 导出功能
- 可以将生成的知识图谱导出为 JSON 格式
- 方便后续分析和处理

## 使用步骤

### 步骤 1：进入知识图谱页面
1. 在书籍列表页面，点击任意书籍的"知识图谱构建"按钮
2. 或者直接访问知识图谱页面

### 步骤 2：上传 Markdown 文件
1. 点击右上角的 📁 按钮，或者点击中央的"上传 Markdown 文件"按钮
2. 在弹出的上传窗口中，点击上传区域选择文件，或直接拖拽文件到上传区域
3. 系统会自动读取文件内容

### 步骤 3：查看生成的知识图谱
1. 上传成功后，系统会自动解析文件并生成知识图谱
2. 图谱会在中央区域显示，不同颜色代表不同类型的节点：
   - 蓝色：章节
   - 绿色：概念
   - 黄色：关键词
   - 红色：标题

### 步骤 4：交互操作
- **查看节点详情**：点击任意节点，会弹出详情窗口
- **调整布局**：在左侧面板选择不同的布局算法
- **缩放视图**：使用鼠标滚轮或底部的缩放按钮
- **拖动节点**：鼠标拖拽节点到合适位置
- **重置视图**：点击顶部的 🔄 按钮

### 步骤 5：导出图谱
1. 点击顶部的 📥 按钮
2. 系统会下载一个 JSON 文件，包含完整的图谱数据

## 示例文件

项目中提供了一个示例文件 `public/example.md`，内容是关于"板块构造与地貌形迹"的书籍章节，您可以用它来测试功能。

## 节点类型说明

| 类型 | 颜色 | 说明 | 大小 |
|------|------|------|------|
| 章节 | 蓝色 | 一级和二级标题 | 大 |
| 概念 | 绿色 | 列表项中提取的概念 | 中 |
| 关键词 | 黄色 | 段落中提取的关键词 | 小 |
| 标题 | 红色 | 三级及以下标题 | 中 |

## 技术实现

- **前端框架**：Vue 3 + TypeScript
- **可视化库**：ECharts（图谱可视化）
- **Markdown 解析**：marked.js
- **知识抽取**：自定义算法（基于规则的关键词提取）

## 后续优化建议

1. **智能关键词提取**：集成 NLP 库（如 jieba 分词）提高关键词提取准确性
2. **实体识别**：使用命名实体识别技术自动识别人名、地名、机构名等
3. **关系推理**：基于语义分析建立更多类型的关系
4. **图谱编辑**：支持手动添加、删除、编辑节点和关系
5. **多文件支持**：支持上传多个 Markdown 文件，构建跨文档的知识图谱
6. **知识问答**：基于知识图谱实现智能问答功能

## 常见问题

### Q: 支持哪些 Markdown 语法？
A: 支持标准 Markdown 语法，包括标题、段落、列表等。复杂的表格和代码块会被忽略。

### Q: 为什么有些关键词没有被提取？
A: 当前使用的是简单的基于规则的提取方法，可能会遗漏一些关键词。建议使用包含明确标题和列表的结构化 Markdown 文件。

### Q: 图谱太密集怎么办？
A: 可以尝试：
1. 切换到环形布局
2. 使用缩放功能放大查看
3. 折叠左侧面板获得更大的显示空间

### Q: 可以保存图谱吗？
A: 可以通过导出功能将图谱数据保存为 JSON 文件。

## 联系与反馈

如有问题或建议，欢迎反馈！
